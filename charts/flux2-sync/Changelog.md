# Change Log

## Next Release

![Helm: v3](https://img.shields.io/static/v1?label=Helm&message=v3&color=informational&logo=helm)


* Add extraEnv to all controllers. Correct README template grammar. Signed-off-by: Matthew Field <fieldm58@gmail.com>

### Default value changes

```diff
# No changes in this release
```

## 1.0.0

**Release date:** 2022-07-07

![Helm: v3](https://img.shields.io/static/v1?label=Helm&message=v3&color=informational&logo=helm)


* feature(update) update to AppVersion 0.31.3 (#109)
* reverse helm docs spacing

### Default value changes

```diff
diff --git a/charts/flux2-sync/values.yaml b/charts/flux2-sync/values.yaml
index cf58105..a084eb4 100644
--- a/charts/flux2-sync/values.yaml
+++ b/charts/flux2-sync/values.yaml
@@ -17,7 +17,7 @@ secret:
 
 cli:
   image: ghcr.io/fluxcd/flux-cli
-  tag: v0.31.1
+  tag: v0.31.3
   nodeSelector: {}
   affinity: {}
   tolerations: []
```

## 0.4.2

**Release date:** 2022-06-09

![Helm: v3](https://img.shields.io/static/v1?label=Helm&message=v3&color=informational&logo=helm)


* bump version and running `make reviewable`
* Rename kustomization.yaml generated by flux2-sync
* Rename kustomization.yaml generated by flux2-sync
* artifacthub changes
* v0.31.1
* fixing optional value docs for helm-docs 1.10.0
* bump cli image version in flux2-sync
* fixing chart version in readmes

### Default value changes

```diff
diff --git a/charts/flux2-sync/values.yaml b/charts/flux2-sync/values.yaml
index 967d7a4..cf58105 100644
--- a/charts/flux2-sync/values.yaml
+++ b/charts/flux2-sync/values.yaml
@@ -17,7 +17,7 @@ secret:
 
 cli:
   image: ghcr.io/fluxcd/flux-cli
-  tag: v0.30.2
+  tag: v0.31.1
   nodeSelector: {}
   affinity: {}
   tolerations: []
@@ -27,7 +27,7 @@ gitRepository:
     # -- The repository URL, can be an HTTP/S or SSH address.
     url: ""
 
-    # -- (Optional) The secret name containing the Git credentials.
+    # -- _Optional_ The secret name containing the Git credentials.
     # For HTTPS repositories the secret must contain username and password fields.
     # For SSH repositories the secret must contain identity, identity.pub and known_hosts fields.
     # If a secret.create is set, it will point to that one.
@@ -36,89 +36,89 @@ gitRepository:
     # -- The interval at which to check for repository updates.
     interval: 5m
 
-    # -- (Optional) The timeout for remote Git operations like cloning, defaults to 20s.
+    # -- _Optional_ The timeout for remote Git operations like cloning, defaults to 20s.
     timeout: ""
 
-    # -- (Optional) The Git reference to checkout and monitor for changes, defaults to master branch.
+    # -- _Optional_ The Git reference to checkout and monitor for changes, defaults to master branch.
     ref:
       branch: master
 
-    # -- (Optional) Verify OpenPGP signature for the Git commit HEAD points to.
+    # -- _Optional_ Verify OpenPGP signature for the Git commit HEAD points to.
     verify: {}
 
-    # -- (Optional) Ignore overrides the set of excluded patterns in the .sourceignore format (which is the same as .gitignore). If not provided, a default will be used, consult the documentation for your version to find out what those are.
+    # -- _Optional_ Ignore overrides the set of excluded patterns in the .sourceignore format (which is the same as .gitignore). If not provided, a default will be used, consult the documentation for your version to find out what those are.
     ignore: ""
 
-    # -- (Optional) This flag tells the controller to suspend the reconciliation of this source.
+    # -- _Optional_ This flag tells the controller to suspend the reconciliation of this source.
     suspend: ""
 
-    # -- (Optional) Determines which git client library to use. Defaults to go-git, valid values are (‘go-git’, ‘libgit2’).
+    # -- _Optional_ Determines which git client library to use. Defaults to go-git, valid values are (‘go-git’, ‘libgit2’).
     gitImplementation: ""
 
-    # -- (Optional) When enabled, after the clone is created, initializes all submodules within, using their default settings. This option is available only when using the ‘go-git’ GitImplementation.
+    # -- _Optional_ When enabled, after the clone is created, initializes all submodules within, using their default settings. This option is available only when using the ‘go-git’ GitImplementation.
     recurseSubmodules: false
 
-    # -- (Optional) Extra git repositories to map into the repository
+    # -- _Optional_ Extra git repositories to map into the repository
     include: []
 
 
 kustomization:
   spec:
-    # -- (Optional) DependsOn may contain a dependency.CrossNamespaceDependencyReference slice with references to Kustomization resources that must be ready before this Kustomization can be reconciled.
+    # -- _Optional_ DependsOn may contain a dependency.CrossNamespaceDependencyReference slice with references to Kustomization resources that must be ready before this Kustomization can be reconciled.
     dependsOn: []
 
-    # -- (Optional) Decrypt Kubernetes secrets before applying them on the cluster.
+    # -- _Optional_ Decrypt Kubernetes secrets before applying them on the cluster.
     decryption: {}
 
     # -- The interval at which to reconcile the Kustomization.
     interval: 5m
 
-    # -- (Optional) The interval at which to retry a previously failed reconciliation. When not specified, the controller uses the KustomizationSpec.Interval value to retry failures.
+    # -- _Optional_ The interval at which to retry a previously failed reconciliation. When not specified, the controller uses the KustomizationSpec.Interval value to retry failures.
     retryInterval: ""
 
-    # -- (Optional) The KubeConfig for reconciling the Kustomization on a remote cluster. When specified, KubeConfig takes precedence over ServiceAccountName.
+    # -- _Optional_ The KubeConfig for reconciling the Kustomization on a remote cluster. When specified, KubeConfig takes precedence over ServiceAccountName.
     kubeConfig: {}
 
-    # -- (Optional) Path to the directory containing the kustomization.yaml
+    # -- _Optional_ Path to the directory containing the kustomization.yaml
     # file, or the set of plain YAMLs a kustomization.yaml should
     # be generated for. Defaults to ‘None’, which translates to
     # the root path of the SourceRef.
     path: ""
 
-    # -- (Optional) PostBuild describes which actions to perform on the YAML manifest generated by building the kustomize overlay.
+    # -- _Optional_ PostBuild describes which actions to perform on the YAML manifest generated by building the kustomize overlay.
     postBuild: {}
 
     # -- Prune enables garbage collection. Defaults to true.
     prune: true
 
-    # -- (Optional) A list of resources to be included in the health assessment.
+    # -- _Optional_ A list of resources to be included in the health assessment.
     healthChecks: []
 
-    # -- (Optional) Strategic merge and JSON patches, defined as inline YAML objects, capable of targeting objects based on kind, label and annotation selectors.
+    # -- _Optional_ Strategic merge and JSON patches, defined as inline YAML objects, capable of targeting objects based on kind, label and annotation selectors.
     patches: []
 
-    # -- (Optional) Images is a list of (image name, new name, new tag or digest) for changing image names, tags or digests. This can also be achieved with a patch, but this operator is simpler to specify.
+    # -- _Optional_ Images is a list of (image name, new name, new tag or digest) for changing image names, tags or digests. This can also be achieved with a patch, but this operator is simpler to specify.
     images: []
 
-    # -- (Optional) The name of the Kubernetes service account to impersonate when reconciling this Kustomization.
+    # -- _Optional_ The name of the Kubernetes service account to impersonate when reconciling this Kustomization.
     serviceAccountName: ""
 
-    # -- (Optional) This flag tells the controller to suspend subsequent kustomize executions, it does not apply to already started executions. Defaults to false.
+    # -- _Optional_ This flag tells the controller to suspend subsequent kustomize executions, it does not apply to already started executions. Defaults to false.
     suspend: ""
 
-    # -- (Optional) TargetNamespace sets or overrides the namespace in the kustomization.yaml file.
+    # -- _Optional_ TargetNamespace sets or overrides the namespace in the kustomization.yaml file.
     targetNamespace: ""
 
-    # -- (Optional) Timeout for validation, apply and health checking operations. Defaults to ‘Interval’ duration
+    # -- _Optional_ Timeout for validation, apply and health checking operations. Defaults to ‘Interval’ duration
     timeout: ""
 
-    # -- (Optional) Force instructs the controller to recreate resources when patching fails due to an immutable field change. Defaults to false.
+    # -- _Optional_ Force instructs the controller to recreate resources when patching fails due to an immutable field change. Defaults to false.
     force: false
 
-    # -- (Optional) Wait instructs the controller to check the health of all the reconciled resources. When enabled, the HealthChecks are ignored. Defaults to false.
+    # -- _Optional_ Wait instructs the controller to check the health of all the reconciled resources. When enabled, the HealthChecks are ignored. Defaults to false.
     wait: false
 
-# -- (Optional) If you want multiple subdirectories which depend on each other in the same repo. Their name is derived from their path.
+# -- _Optional_ If you want multiple subdirectories which depend on each other in the same repo. Their name is derived from their path.
 kustomizationlist: {}
 # - spec:
 #     interval: 5m
```

## 0.4.1

**Release date:** 2022-06-07

![Helm: v3](https://img.shields.io/static/v1?label=Helm&message=v3&color=informational&logo=helm)


* fixing linter
* Update to 0.31.0

### Default value changes

```diff
# No changes in this release
```

## 0.4.0

**Release date:** 2022-05-28

![Helm: v3](https://img.shields.io/static/v1?label=Helm&message=v3&color=informational&logo=helm)


* Adds Git SSH Key Generation

### Default value changes

```diff
diff --git a/charts/flux2-sync/values.yaml b/charts/flux2-sync/values.yaml
index ec76ce8..967d7a4 100644
--- a/charts/flux2-sync/values.yaml
+++ b/charts/flux2-sync/values.yaml
@@ -8,6 +8,20 @@ secret:
   # Values will be encoded to base64 by the helm chart.
   data: {}
 
+  # -- Algorithm of keys to generate.
+  # If `data` object above is empty, and `create` is set to true. The Chart will generate the
+  # Git SSH key secret automatically based on the key algorithms that are set below.
+  generate:
+    sshKeyAlgorithm: ecdsa
+    sshEcdsaCurve: p521
+
+cli:
+  image: ghcr.io/fluxcd/flux-cli
+  tag: v0.30.2
+  nodeSelector: {}
+  affinity: {}
+  tolerations: []
+
 gitRepository:
   spec:
     # -- The repository URL, can be an HTTP/S or SSH address.
```

## 0.3.8

**Release date:** 2022-05-04

![Helm: v3](https://img.shields.io/static/v1?label=Helm&message=v3&color=informational&logo=helm)


* build: update release to push to ghcr

### Default value changes

```diff
# No changes in this release
```

## 0.3.7

**Release date:** 2022-05-04

![Helm: v3](https://img.shields.io/static/v1?label=Helm&message=v3&color=informational&logo=helm)


* feat(flux2-sync): update git repository resource to v1beta2

### Default value changes

```diff
# No changes in this release
```

## 0.3.6

**Release date:** 2021-12-20

![Helm: v3](https://img.shields.io/static/v1?label=Helm&message=v3&color=informational&logo=helm)


* chore: update Makefile and Readme (#56)

### Default value changes

```diff
# No changes in this release
```

## 0.3.5

**Release date:** 2021-12-20

![Helm: v3](https://img.shields.io/static/v1?label=Helm&message=v3&color=informational&logo=helm)


* added kustomizelist and a few optional settings. added spaces in values.yaml so helm-docs generates it correctly on my end (comments are taken from above the definition). (#55)

### Default value changes

```diff
diff --git a/charts/flux2-sync/values.yaml b/charts/flux2-sync/values.yaml
index b04aae9..ec76ce8 100644
--- a/charts/flux2-sync/values.yaml
+++ b/charts/flux2-sync/values.yaml
@@ -103,3 +103,18 @@ kustomization:
 
     # -- (Optional) Wait instructs the controller to check the health of all the reconciled resources. When enabled, the HealthChecks are ignored. Defaults to false.
     wait: false
+
+# -- (Optional) If you want multiple subdirectories which depend on each other in the same repo. Their name is derived from their path.
+kustomizationlist: {}
+# - spec:
+#     interval: 5m
+#     path: ./base
+#     prune: true
+#     timeout: 5m
+# - spec:
+#     dependsOn:
+#     - path: ./base
+#     interval: 5m
+#     path: ./test
+#     prune: true
+#     timeout: 5m
```

## 0.3.3

**Release date:** 2021-12-12

![Helm: v3](https://img.shields.io/static/v1?label=Helm&message=v3&color=informational&logo=helm)


* feat(0.24.1) added generator and bumped 0.24.0 to 0.24.1 (#45)

### Default value changes

```diff
# No changes in this release
```

## 0.3.2

**Release date:** 2021-12-09

![Helm: v3](https://img.shields.io/static/v1?label=Helm&message=v3&color=informational&logo=helm)


* fix(sec): fix secret name ref in flux2-sync

### Default value changes

```diff
# No changes in this release
```

## 0.3.1

**Release date:** 2021-12-09

![Helm: v3](https://img.shields.io/static/v1?label=Helm&message=v3&color=informational&logo=helm)


* Insert correct secretRef value (#39)

### Default value changes

```diff
# No changes in this release
```

## 0.3.0

**Release date:** 2021-12-09

![Helm: v3](https://img.shields.io/static/v1?label=Helm&message=v3&color=informational&logo=helm)


* add possibilty to add secrets for git; some fixes (#38)

### Default value changes

```diff
diff --git a/charts/flux2-sync/values.yaml b/charts/flux2-sync/values.yaml
index 47cb379..b04aae9 100644
--- a/charts/flux2-sync/values.yaml
+++ b/charts/flux2-sync/values.yaml
@@ -1,9 +1,22 @@
+secret:
+  # -- Create a secret for the git repository. Defaults to false.
+  create: false
+
+  # -- Data of the secret.
+  # For HTTPS repositories the secret must contain username and password fields.
+  # For SSH repositories the secret must contain identity, identity.pub and known_hosts fields.
+  # Values will be encoded to base64 by the helm chart.
+  data: {}
+
 gitRepository:
   spec:
     # -- The repository URL, can be an HTTP/S or SSH address.
     url: ""
 
-    # -- (Optional) The secret name containing the Git credentials. For HTTPS repositories the secret must contain username and password fields. For SSH repositories the secret must contain identity, identity.pub and known_hosts fields.
+    # -- (Optional) The secret name containing the Git credentials.
+    # For HTTPS repositories the secret must contain username and password fields.
+    # For SSH repositories the secret must contain identity, identity.pub and known_hosts fields.
+    # If a secret.create is set, it will point to that one.
     secretRef: {}
 
     # -- The interval at which to check for repository updates.
```

## 0.2.2

**Release date:** 2021-12-07

![Helm: v3](https://img.shields.io/static/v1?label=Helm&message=v3&color=informational&logo=helm)


* add helm labels and nodeSelector for flux-cli job (#34)

### Default value changes

```diff
# No changes in this release
```

## 0.2.1

**Release date:** 2021-11-30

![Helm: v3](https://img.shields.io/static/v1?label=Helm&message=v3&color=informational&logo=helm)


* update to appversion 0.24.0 (#29)

### Default value changes

```diff
# No changes in this release
```

## 0.2.0

**Release date:** 2021-11-26

![Helm: v3](https://img.shields.io/static/v1?label=Helm&message=v3&color=informational&logo=helm)


* Add end-to-end tests and various fixes to flux2-sync chart (#23)

### Default value changes

```diff
diff --git a/charts/flux2-sync/values.yaml b/charts/flux2-sync/values.yaml
index ce7f6b2..47cb379 100644
--- a/charts/flux2-sync/values.yaml
+++ b/charts/flux2-sync/values.yaml
@@ -1,10 +1,7 @@
 gitRepository:
-  metadata:
-    labels: {}
-    name: "demo-gitrepository"
   spec:
-    # -- The repository URL, can be a HTTP/S or SSH address.
-    url: "https://github.com/fluxcd/flux2-kustomize-helm-example.git"
+    # -- The repository URL, can be an HTTP/S or SSH address.
+    url: ""
 
     # -- (Optional) The secret name containing the Git credentials. For HTTPS repositories the secret must contain username and password fields. For SSH repositories the secret must contain identity, identity.pub and known_hosts fields.
     secretRef: {}
@@ -16,7 +13,8 @@ gitRepository:
     timeout: ""
 
     # -- (Optional) The Git reference to checkout and monitor for changes, defaults to master branch.
-    ref: ""
+    ref:
+      branch: master
 
     # -- (Optional) Verify OpenPGP signature for the Git commit HEAD points to.
     verify: {}
@@ -31,7 +29,7 @@ gitRepository:
     gitImplementation: ""
 
     # -- (Optional) When enabled, after the clone is created, initializes all submodules within, using their default settings. This option is available only when using the ‘go-git’ GitImplementation.
-    recurseSubmodules: ""
+    recurseSubmodules: false
 
     # -- (Optional) Extra git repositories to map into the repository
     include: []
@@ -52,7 +50,7 @@ kustomization:
     retryInterval: ""
 
     # -- (Optional) The KubeConfig for reconciling the Kustomization on a remote cluster. When specified, KubeConfig takes precedence over ServiceAccountName.
-    kubeConfig: ""
+    kubeConfig: {}
 
     # -- (Optional) Path to the directory containing the kustomization.yaml
     # file, or the set of plain YAMLs a kustomization.yaml should
@@ -78,11 +76,6 @@ kustomization:
     # -- (Optional) The name of the Kubernetes service account to impersonate when reconciling this Kustomization.
     serviceAccountName: ""
 
-    # -- Reference of the source where the kustomization file is.
-    sourceRef:
-      kind: GitRepository
-      name: demo-gitrepository
-
     # -- (Optional) This flag tells the controller to suspend subsequent kustomize executions, it does not apply to already started executions. Defaults to false.
     suspend: ""
 
@@ -93,7 +86,7 @@ kustomization:
     timeout: ""
 
     # -- (Optional) Force instructs the controller to recreate resources when patching fails due to an immutable field change. Defaults to false.
-    force: ""
+    force: false
 
     # -- (Optional) Wait instructs the controller to check the health of all the reconciled resources. When enabled, the HealthChecks are ignored. Defaults to false.
-    wait: ""
+    wait: false
```

## 0.1.1

**Release date:** 2021-11-16

![Helm: v3](https://img.shields.io/static/v1?label=Helm&message=v3&color=informational&logo=helm)


* update to appversion 0.23.0 (#17)

### Default value changes

```diff
# No changes in this release
```

## 0.1.0

**Release date:** 2021-11-09

![Helm: v3](https://img.shields.io/static/v1?label=Helm&message=v3&color=informational&logo=helm)


* add chart flux-sync (#15)

### Default value changes

```diff
gitRepository:
  metadata:
    labels: {}
    name: "demo-gitrepository"
  spec:
    # -- The repository URL, can be a HTTP/S or SSH address.
    url: "https://github.com/fluxcd/flux2-kustomize-helm-example.git"

    # -- (Optional) The secret name containing the Git credentials. For HTTPS repositories the secret must contain username and password fields. For SSH repositories the secret must contain identity, identity.pub and known_hosts fields.
    secretRef: {}

    # -- The interval at which to check for repository updates.
    interval: 5m

    # -- (Optional) The timeout for remote Git operations like cloning, defaults to 20s.
    timeout: ""

    # -- (Optional) The Git reference to checkout and monitor for changes, defaults to master branch.
    ref: ""

    # -- (Optional) Verify OpenPGP signature for the Git commit HEAD points to.
    verify: {}

    # -- (Optional) Ignore overrides the set of excluded patterns in the .sourceignore format (which is the same as .gitignore). If not provided, a default will be used, consult the documentation for your version to find out what those are.
    ignore: ""

    # -- (Optional) This flag tells the controller to suspend the reconciliation of this source.
    suspend: ""

    # -- (Optional) Determines which git client library to use. Defaults to go-git, valid values are (‘go-git’, ‘libgit2’).
    gitImplementation: ""

    # -- (Optional) When enabled, after the clone is created, initializes all submodules within, using their default settings. This option is available only when using the ‘go-git’ GitImplementation.
    recurseSubmodules: ""

    # -- (Optional) Extra git repositories to map into the repository
    include: []


kustomization:
  spec:
    # -- (Optional) DependsOn may contain a dependency.CrossNamespaceDependencyReference slice with references to Kustomization resources that must be ready before this Kustomization can be reconciled.
    dependsOn: []

    # -- (Optional) Decrypt Kubernetes secrets before applying them on the cluster.
    decryption: {}

    # -- The interval at which to reconcile the Kustomization.
    interval: 5m

    # -- (Optional) The interval at which to retry a previously failed reconciliation. When not specified, the controller uses the KustomizationSpec.Interval value to retry failures.
    retryInterval: ""

    # -- (Optional) The KubeConfig for reconciling the Kustomization on a remote cluster. When specified, KubeConfig takes precedence over ServiceAccountName.
    kubeConfig: ""

    # -- (Optional) Path to the directory containing the kustomization.yaml
    # file, or the set of plain YAMLs a kustomization.yaml should
    # be generated for. Defaults to ‘None’, which translates to
    # the root path of the SourceRef.
    path: ""

    # -- (Optional) PostBuild describes which actions to perform on the YAML manifest generated by building the kustomize overlay.
    postBuild: {}

    # -- Prune enables garbage collection. Defaults to true.
    prune: true

    # -- (Optional) A list of resources to be included in the health assessment.
    healthChecks: []

    # -- (Optional) Strategic merge and JSON patches, defined as inline YAML objects, capable of targeting objects based on kind, label and annotation selectors.
    patches: []

    # -- (Optional) Images is a list of (image name, new name, new tag or digest) for changing image names, tags or digests. This can also be achieved with a patch, but this operator is simpler to specify.
    images: []

    # -- (Optional) The name of the Kubernetes service account to impersonate when reconciling this Kustomization.
    serviceAccountName: ""

    # -- Reference of the source where the kustomization file is.
    sourceRef:
      kind: GitRepository
      name: demo-gitrepository

    # -- (Optional) This flag tells the controller to suspend subsequent kustomize executions, it does not apply to already started executions. Defaults to false.
    suspend: ""

    # -- (Optional) TargetNamespace sets or overrides the namespace in the kustomization.yaml file.
    targetNamespace: ""

    # -- (Optional) Timeout for validation, apply and health checking operations. Defaults to ‘Interval’ duration
    timeout: ""

    # -- (Optional) Force instructs the controller to recreate resources when patching fails due to an immutable field change. Defaults to false.
    force: ""

    # -- (Optional) Wait instructs the controller to check the health of all the reconciled resources. When enabled, the HealthChecks are ignored. Defaults to false.
    wait: ""
```

---
Autogenerated from Helm Chart and git history using [helm-changelog](https://github.com/mogensen/helm-changelog)
